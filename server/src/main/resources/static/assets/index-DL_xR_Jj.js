import{r as c,l as i,n}from"./chunk-HA7DTUK3-DrNZtXfs.js";import{u as de}from"./useQuery-CtBUlfUK.js";import{u as We}from"./useMutation-B2YuRMgo.js";import{u as ee}from"./index-Dq7Ccb3X.js";import{u as fe,b as R}from"./http-dO_zUEib.js";import{B as nr,a as q}from"./index-iu7M0T5d.js";import{g as or,s as pe,c as ar,m as me,b as re,T as $}from"./Typography-B2rbqJ1w.js";import{c as ir}from"./clsx-B6oeREpB.js";import{u as sr}from"./mutation-z2A7xQGH.js";import{e as lr,g as cr,f as F,l as ur,k as dr,m as Se,n as Be,B as m}from"./Box-lkY65lPb.js";import{u as fr}from"./DefaultPropsProvider-VWusWl-V.js";import{R as we}from"./Refresh-qC5yQvRi.js";import{_ as ge,a as he,P as E,c as se}from"./Utils-6MWpJHdW.js";import{a as Ne}from"./useRealtimeEventListener-BbpSzHID.js";import{F as He}from"./index-DEy9Fy6Y.js";import{A as Ve}from"./index-DpCQFZnQ.js";import{N as pr}from"./NoData-CtklFp9O.js";import{A as qe,M as mr}from"./ArrowLeft-B3jdeqEj.js";import{s as Ge}from"./chunk-TLYTI3QM-OrR10yBI.js";import{I as gr}from"./IconButton-DXjjp29i.js";import{M as hr}from"./MenuItem-0KVSpSXj.js";import{F as Z}from"./Flash-D_Ww17k5.js";import{W as vr}from"./Warning2-LF1yRinJ.js";import{T as xr}from"./TickCircle-Br5amtOW.js";import{t as br,a as yr,b as kr,c as jr,d as Er,e as wr}from"./chunk-F3UDT23P-CmcUTUZk.js";import{s as Mr}from"./chunk-MSDKUXDP-1VvPWETC.js";const Cr=or();function Lr(e){return lr("MuiLinearProgress",e)}cr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Me=4,Ce=Be`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Or=typeof Ce!="string"?Se`
        animation: ${Ce} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Le=Be`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Sr=typeof Le!="string"?Se`
        animation: ${Le} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Oe=Be`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Br=typeof Oe!="string"?Se`
        animation: ${Oe} 3s infinite linear;
      `:null,Nr=e=>{const{classes:r,variant:t,color:o}=e,a={root:["root",`color${F(o)}`,t],dashed:["dashed",`dashedColor${F(o)}`],bar1:["bar","bar1",`barColor${F(o)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${F(o)}`,t==="buffer"&&`color${F(o)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return ar(a,Lr,r)},Pe=(e,r)=>e.vars?e.vars.palette.LinearProgress[`${r}Bg`]:e.palette.mode==="light"?ur(e.palette[r].main,.62):dr(e.palette[r].main,.5),Pr=pe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`color${F(t.color)}`],r[t.variant]]}})(me(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(re()).map(([r])=>({props:{color:r},style:{backgroundColor:Pe(e,r)}})),{props:({ownerState:r})=>r.color==="inherit"&&r.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Ar=pe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.dashed,r[`dashedColor${F(t.color)}`]]}})(me(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(re()).map(([r])=>{const t=Pe(e,r);return{props:{color:r},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),Br||{animation:`${Oe} 3s infinite linear`}),Dr=pe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r.bar1,r[`barColor${F(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&r.bar1Indeterminate,t.variant==="determinate"&&r.bar1Determinate,t.variant==="buffer"&&r.bar1Buffer]}})(me(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(re()).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main}})),{props:{variant:"determinate"},style:{transition:`transform .${Me}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${Me}s linear`}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:{width:"auto"}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:Or||{animation:`${Ce} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Fr=pe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r.bar2,r[`barColor${F(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&r.bar2Indeterminate,t.variant==="buffer"&&r.bar2Buffer]}})(me(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(re()).map(([r])=>({props:{color:r},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[r].main}})),{props:({ownerState:r})=>r.variant!=="buffer"&&r.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:r})=>r.variant!=="buffer"&&r.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(re()).map(([r])=>({props:{color:r,variant:"buffer"},style:{backgroundColor:Pe(e,r),transition:`transform .${Me}s linear`}})),{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:{width:"auto"}},{props:({ownerState:r})=>r.variant==="indeterminate"||r.variant==="query",style:Sr||{animation:`${Le} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),$r=c.forwardRef(function(r,t){const o=fr({props:r,name:"MuiLinearProgress"}),{className:a,color:s="primary",value:u,valueBuffer:p,variant:f="indeterminate",...g}=o,j={...o,color:s,variant:f},h=Nr(j),A=sr(),O={},D={bar1:{},bar2:{}};if((f==="determinate"||f==="buffer")&&u!==void 0){O["aria-valuenow"]=Math.round(u),O["aria-valuemin"]=0,O["aria-valuemax"]=100;let B=u-100;A&&(B=-B),D.bar1.transform=`translateX(${B}%)`}if(f==="buffer"&&p!==void 0){let B=(p||0)-100;A&&(B=-B),D.bar2.transform=`translateX(${B}%)`}return i.jsxs(Pr,{className:ir(h.root,a),ownerState:j,role:"progressbar",...O,ref:t,...g,children:[f==="buffer"?i.jsx(Ar,{className:h.dashed,ownerState:j}):null,i.jsx(Dr,{className:h.bar1,ownerState:j,style:D.bar1}),f==="determinate"?null:i.jsx(Fr,{className:h.bar2,ownerState:j,style:D.bar2})]})});var Tr=["variant","color","size"],Rr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.8 2.21c-.41-.41-1.12-.13-1.12.44v3.49c0 1.46 1.24 2.67 2.75 2.67.95.01 2.27.01 3.4.01.57 0 .87-.67.47-1.07-1.44-1.45-4.02-4.06-5.5-5.54Z",fill:t}),n.createElement("path",{d:"M20.5 10.19h-2.89c-2.37 0-4.3-1.93-4.3-4.3V3c0-.55-.45-1-1-1H8.07C4.99 2 2.5 4 2.5 7.57v8.86C2.5 20 4.99 22 8.07 22h7.86c3.08 0 5.57-2 5.57-5.57v-5.24c0-.55-.45-1-1-1Zm-9 7.56h-4c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4c.41 0 .75.34.75.75s-.34.75-.75.75Zm2-4h-6c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h6c.41 0 .75.34.75.75s-.34.75-.75.75Z",fill:t}))},zr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 13h1M7 13h2.45M7 17h4M2 9c0-5 2-7 7-7h5M22 10v5c0 5-2 7-7 7H9c-5 0-7-2-7-7v-2.02M18 10c-3 0-4-1-4-4V2l8 8",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},Ir=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{opacity:".4",d:"M20.5 10.19h-2.89c-2.37 0-4.3-1.93-4.3-4.3V3c0-.55-.45-1-1-1H8.07C4.99 2 2.5 4 2.5 7.57v8.86C2.5 20 4.99 22 8.07 22h7.86c3.08 0 5.57-2 5.57-5.57v-5.24c0-.55-.45-1-1-1Z",fill:t}),n.createElement("path",{d:"M15.8 2.21c-.41-.41-1.12-.13-1.12.44v3.49c0 1.46 1.24 2.67 2.75 2.67.95.01 2.27.01 3.4.01.57 0 .87-.67.47-1.07-1.44-1.45-4.02-4.06-5.5-5.54ZM13.5 13.75h-6c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h6c.41 0 .75.34.75.75s-.34.75-.75.75ZM11.5 17.75h-4c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4c.41 0 .75.34.75.75s-.34.75-.75.75Z",fill:t}))},Ae=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M21 7v10c0 3-1.5 5-5 5H8c-3.5 0-5-2-5-5V7c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M14.5 4.5v2c0 1.1.9 2 2 2h2M8 13h4M8 17h8",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},Zr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M16 22.75H8c-3.65 0-5.75-2.1-5.75-5.75V7c0-3.65 2.1-5.75 5.75-5.75h8c3.65 0 5.75 2.1 5.75 5.75v10c0 3.65-2.1 5.75-5.75 5.75Zm-8-20C5.14 2.75 3.75 4.14 3.75 7v10c0 2.86 1.39 4.25 4.25 4.25h8c2.86 0 4.25-1.39 4.25-4.25V7c0-2.86-1.39-4.25-4.25-4.25H8Z",fill:t}),n.createElement("path",{d:"M18.5 9.25h-2c-1.52 0-2.75-1.23-2.75-2.75v-2c0-.41.34-.75.75-.75s.75.34.75.75v2c0 .69.56 1.25 1.25 1.25h2c.41 0 .75.34.75.75s-.34.75-.75.75ZM12 13.75H8c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4c.41 0 .75.34.75.75s-.34.75-.75.75ZM16 17.75H8c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h8c.41 0 .75.34.75.75s-.34.75-.75.75Z",fill:t}))},Ur=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M21 7v10c0 3-1.5 5-5 5H8c-3.5 0-5-2-5-5V7c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{opacity:".4",d:"M14.5 4.5v2c0 1.1.9 2 2 2h2M8 13h4M8 17h8",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},Wr=function(r,t){switch(r){case"Bold":return n.createElement(Rr,{color:t});case"Broken":return n.createElement(zr,{color:t});case"Bulk":return n.createElement(Ir,{color:t});case"Linear":return n.createElement(Ae,{color:t});case"Outline":return n.createElement(Zr,{color:t});case"TwoTone":return n.createElement(Ur,{color:t});default:return n.createElement(Ae,{color:t})}},ve=c.forwardRef(function(e,r){var t=e.variant,o=e.color,a=e.size,s=ge(e,Tr);return n.createElement("svg",he({},s,{xmlns:"http://www.w3.org/2000/svg",ref:r,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),Wr(t,o))});ve.propTypes={variant:E.oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:E.string,size:E.oneOfType([E.string,E.number])};ve.defaultProps={variant:"Linear",color:"currentColor",size:"24"};ve.displayName="DocumentText";var Hr=["variant","color","size"],Vr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M21.76 15.92 15.36 4.4C14.5 2.85 13.31 2 12 2s-2.5.85-3.36 2.4l-6.4 11.52c-.81 1.47-.9 2.88-.25 3.99.65 1.11 1.93 1.72 3.61 1.72h12.8c1.68 0 2.96-.61 3.61-1.72.65-1.11.56-2.53-.25-3.99ZM11.25 9c0-.41.34-.75.75-.75s.75.34.75.75v5c0 .41-.34.75-.75.75s-.75-.34-.75-.75V9Zm1.46 8.71-.15.12c-.06.04-.12.07-.18.09-.06.03-.12.05-.19.06-.06.01-.13.02-.19.02s-.13-.01-.2-.02a.636.636 0 0 1-.18-.06.757.757 0 0 1-.18-.09l-.15-.12c-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71l.15-.12c.06-.04.12-.07.18-.09.06-.03.12-.05.18-.06.13-.03.27-.03.39 0 .07.01.13.03.19.06.06.02.12.05.18.09l.15.12c.18.19.29.45.29.71 0 .26-.11.52-.29.71Z",fill:t}))},qr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 9v5M20.24 14.001l1.06 1.9c1.68 3.03.22 5.51-3.24 5.51H5.94c-3.47 0-4.92-2.48-3.24-5.51l3.12-5.62 2.94-5.28c1.78-3.21 4.7-3.21 6.48 0l2.94 5.29",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M11.994 17h.01",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Gr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{opacity:".4",d:"M21.76 15.92 15.36 4.4C14.5 2.85 13.31 2 12 2s-2.5.85-3.36 2.4l-6.4 11.52c-.81 1.47-.9 2.88-.25 3.99.65 1.11 1.93 1.72 3.61 1.72h12.8c1.68 0 2.96-.61 3.61-1.72.65-1.11.56-2.53-.25-3.99Z",fill:t}),n.createElement("path",{d:"M12 14.75c-.41 0-.75-.34-.75-.75V9c0-.41.34-.75.75-.75s.75.34.75.75v5c0 .41-.34.75-.75.75ZM12 17.999c-.06 0-.13-.01-.2-.02a.636.636 0 0 1-.18-.06.757.757 0 0 1-.18-.09l-.15-.12c-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71l.15-.12c.06-.04.12-.07.18-.09.06-.03.12-.05.18-.06.13-.03.27-.03.39 0 .07.01.13.03.19.06.06.02.12.05.18.09l.15.12c.18.19.29.45.29.71 0 .26-.11.52-.29.71l-.15.12c-.06.04-.12.07-.18.09-.06.03-.12.05-.19.06-.06.01-.13.02-.19.02Z",fill:t}))},De=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 9v5M12 21.41H5.94c-3.47 0-4.92-2.48-3.24-5.51l3.12-5.62L8.76 5c1.78-3.21 4.7-3.21 6.48 0l2.94 5.29 3.12 5.62c1.68 3.03.22 5.51-3.24 5.51H12v-.01Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M11.995 17h.009",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},_r=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 14.75c-.41 0-.75-.34-.75-.75V9c0-.41.34-.75.75-.75s.75.34.75.75v5c0 .41-.34.75-.75.75ZM12 17.999c-.06 0-.13-.01-.2-.02a.636.636 0 0 1-.18-.06.757.757 0 0 1-.18-.09l-.15-.12c-.18-.19-.29-.45-.29-.71 0-.26.11-.52.29-.71l.15-.12c.06-.04.12-.07.18-.09.06-.03.12-.05.18-.06.13-.03.27-.03.39 0 .07.01.13.03.19.06.06.02.12.05.18.09l.15.12c.18.19.29.45.29.71 0 .26-.11.52-.29.71l-.15.12c-.06.04-.12.07-.18.09-.06.03-.12.05-.19.06-.06.01-.13.02-.19.02Z",fill:t}),n.createElement("path",{d:"M18.06 22.16H5.94c-1.95 0-3.44-.71-4.2-1.99-.75-1.28-.65-2.93.3-4.64L8.1 4.63c1-1.8 2.38-2.79 3.9-2.79s2.9.99 3.9 2.79l6.06 10.91c.95 1.71 1.06 3.35.3 4.64-.76 1.27-2.25 1.98-4.2 1.98ZM12 3.34c-.94 0-1.86.72-2.59 2.02L3.36 16.27c-.68 1.22-.79 2.34-.32 3.15.47.81 1.51 1.25 2.91 1.25h12.12c1.4 0 2.43-.44 2.91-1.25s.36-1.92-.32-3.15L14.59 5.36c-.73-1.3-1.65-2.02-2.59-2.02Z",fill:t}))},Kr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{opacity:".34",d:"M12 9v5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M12 21.411H5.94c-3.47 0-4.92-2.48-3.24-5.51l3.12-5.62 2.94-5.28c1.78-3.21 4.7-3.21 6.48 0l2.94 5.29 3.12 5.62c1.68 3.03.22 5.51-3.24 5.51H12v-.01Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{opacity:".34",d:"M11.994 17h.01",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Yr=function(r,t){switch(r){case"Bold":return n.createElement(Vr,{color:t});case"Broken":return n.createElement(qr,{color:t});case"Bulk":return n.createElement(Gr,{color:t});case"Linear":return n.createElement(De,{color:t});case"Outline":return n.createElement(_r,{color:t});case"TwoTone":return n.createElement(Kr,{color:t});default:return n.createElement(De,{color:t})}},xe=c.forwardRef(function(e,r){var t=e.variant,o=e.color,a=e.size,s=ge(e,Hr);return n.createElement("svg",he({},s,{xmlns:"http://www.w3.org/2000/svg",ref:r,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),Yr(t,o))});xe.propTypes={variant:E.oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:E.string,size:E.oneOfType([E.string,E.number])};xe.defaultProps={variant:"Linear",color:"currentColor",size:"24"};xe.displayName="Danger";var Xr=["variant","color","size"],Jr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"m19.53 5.53-14 14c-.02.02-.03.03-.05.04-.38-.32-.73-.67-1.05-1.05A9.903 9.903 0 0 1 2 12C2 6.48 6.48 2 12 2c2.49 0 4.77.91 6.52 2.43.38.32.73.67 1.05 1.05-.01.02-.02.03-.04.05ZM22 12c0 5.49-4.51 10-10 10-1.5 0-2.92-.33-4.2-.93-.62-.29-.74-1.12-.26-1.61L19.46 7.54c.48-.48 1.32-.36 1.61.26.6 1.27.93 2.7.93 4.2Z",fill:t}),n.createElement("path",{d:"M21.77 2.229c-.3-.3-.79-.3-1.09 0L2.23 20.689c-.3.3-.3.79 0 1.09a.758.758 0 0 0 1.08-.01l18.46-18.46c.31-.3.31-.78 0-1.08Z",fill:t}))},Qr=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"m18.9 5-14 14",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M4 6c-1.25 1.67-2 3.75-2 6 0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2c-1.43 0-2.8.3-4.03.85",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},et=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{opacity:".4",d:"m19.53 5.53-14 14c-.02.02-.03.03-.05.04-.38-.32-.73-.67-1.05-1.05A9.903 9.903 0 0 1 2 12C2 6.48 6.48 2 12 2c2.49 0 4.77.91 6.52 2.43.38.32.73.67 1.05 1.05-.01.02-.02.03-.04.05ZM22 12.002c0 5.52-4.48 10-10 10-1.99 0-3.84-.58-5.4-1.6l13.8-13.8a9.815 9.815 0 0 1 1.6 5.4Z",fill:t}),n.createElement("path",{d:"M21.77 2.229c-.3-.3-.79-.3-1.09 0L2.23 20.689c-.3.3-.3.79 0 1.09a.758.758 0 0 0 1.08-.01l18.46-18.46c.31-.3.31-.78 0-1.08Z",fill:t}))},Fe=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10ZM18.9 5l-14 14",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},rt=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 22.75C6.07 22.75 1.25 17.93 1.25 12S6.07 1.25 12 1.25 22.75 6.07 22.75 12 17.93 22.75 12 22.75Zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75Z",fill:t}),n.createElement("path",{d:"M4.9 19.751c-.19 0-.38-.07-.53-.22a.754.754 0 0 1 0-1.06l14-14c.29-.29.77-.29 1.06 0 .29.29.29.77 0 1.06l-14 14c-.15.15-.34.22-.53.22Z",fill:t}))},tt=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{opacity:".34",d:"m18.9 5-14 14",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},nt=function(r,t){switch(r){case"Bold":return n.createElement(Jr,{color:t});case"Broken":return n.createElement(Qr,{color:t});case"Bulk":return n.createElement(et,{color:t});case"Linear":return n.createElement(Fe,{color:t});case"Outline":return n.createElement(rt,{color:t});case"TwoTone":return n.createElement(tt,{color:t});default:return n.createElement(Fe,{color:t})}},te=c.forwardRef(function(e,r){var t=e.variant,o=e.color,a=e.size,s=ge(e,Xr);return n.createElement("svg",he({},s,{xmlns:"http://www.w3.org/2000/svg",ref:r,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),nt(t,o))});te.propTypes={variant:E.oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:E.string,size:E.oneOfType([E.string,E.number])};te.defaultProps={variant:"Linear",color:"currentColor",size:"24"};te.displayName="Slash";var ot=["variant","color","size"],at=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2ZM7 13.31c-.72 0-1.31-.59-1.31-1.31 0-.72.59-1.31 1.31-1.31.72 0 1.31.59 1.31 1.31 0 .72-.59 1.31-1.31 1.31Zm5 0c-.72 0-1.31-.59-1.31-1.31 0-.72.59-1.31 1.31-1.31.72 0 1.31.59 1.31 1.31 0 .72-.59 1.31-1.31 1.31Zm5 0c-.72 0-1.31-.59-1.31-1.31 0-.72.59-1.31 1.31-1.31.72 0 1.31.59 1.31 1.31 0 .72-.59 1.31-1.31 1.31Z",fill:t}))},it=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M5 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2ZM19 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z",stroke:t,strokeWidth:"1.5"}),n.createElement("path",{d:"M10 12c0 1.1.9 2 2 2s2-.9 2-2-.9-2-2-2",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},st=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{opacity:".4",d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2Z",fill:t}),n.createElement("path",{d:"M12 10.691c-.72 0-1.31.59-1.31 1.31 0 .72.59 1.31 1.31 1.31.72 0 1.31-.59 1.31-1.31 0-.72-.59-1.31-1.31-1.31ZM7 10.691c-.72 0-1.31.59-1.31 1.31 0 .72.59 1.31 1.31 1.31.72 0 1.31-.59 1.31-1.31 0-.72-.59-1.31-1.31-1.31ZM17 10.691c-.72 0-1.31.59-1.31 1.31 0 .72.59 1.31 1.31 1.31.72 0 1.31-.59 1.31-1.31 0-.72-.59-1.31-1.31-1.31Z",fill:t}))},$e=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M5 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2ZM19 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2ZM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z",stroke:t,strokeWidth:"1.5"}))},lt=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M5 14.75c-1.52 0-2.75-1.23-2.75-2.75S3.48 9.25 5 9.25 7.75 10.48 7.75 12 6.52 14.75 5 14.75Zm0-4a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM19 14.75c-1.52 0-2.75-1.23-2.75-2.75S17.48 9.25 19 9.25s2.75 1.23 2.75 2.75-1.23 2.75-2.75 2.75Zm0-4a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5ZM12 14.75c-1.52 0-2.75-1.23-2.75-2.75S10.48 9.25 12 9.25s2.75 1.23 2.75 2.75-1.23 2.75-2.75 2.75Zm0-4a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z",fill:t}))},ct=function(r){var t=r.color;return n.createElement(n.Fragment,null,n.createElement("path",{d:"M5 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2ZM19 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z",stroke:t,strokeWidth:"1.5"}),n.createElement("path",{opacity:".4",d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z",stroke:t,strokeWidth:"1.5"}))},ut=function(r,t){switch(r){case"Bold":return n.createElement(at,{color:t});case"Broken":return n.createElement(it,{color:t});case"Bulk":return n.createElement(st,{color:t});case"Linear":return n.createElement($e,{color:t});case"Outline":return n.createElement(lt,{color:t});case"TwoTone":return n.createElement(ct,{color:t});default:return n.createElement($e,{color:t})}},be=c.forwardRef(function(e,r){var t=e.variant,o=e.color,a=e.size,s=ge(e,ot);return n.createElement("svg",he({},s,{xmlns:"http://www.w3.org/2000/svg",ref:r,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),ut(t,o))});be.propTypes={variant:E.oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:E.string,size:E.oneOfType([E.string,E.number])};be.defaultProps={variant:"Linear",color:"currentColor",size:"24"};be.displayName="More";const dt=Cr($r)(({theme:e})=>({height:8,borderRadius:4,backgroundColor:e.palette.mode==="dark"?"#333":"#e0e0e0","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:r=>r===100?"#4caf50":"#fbc02d"}})),ft=({progress:e})=>i.jsxs(m,{className:"flex flex-col gap-[6px] pt-[1.5px] w-full",children:[i.jsxs(m,{className:"flex flex-row items-center gap-2 justify-between",children:[i.jsxs($,{className:"flex flex-row gap-[6px] items-center",fontSize:"11px",color:"#ADADAD",fontWeight:"500",lineHeight:"normal",children:[i.jsx(we,{size:"10px",color:"currentColor"}),"Upgrading"]}),i.jsxs($,{fontSize:"11px",fontWeight:"500",lineHeight:"normal",variant:"body2",style:{color:e===100?"#4caf50":"#fbc02d"},children:[e,"%"]})]}),i.jsx(dt,{variant:"determinate",value:e})]});function pt({onBack:e}){return i.jsx(Ve,{items:[{label:"Go back",icon:i.jsx(qe,{size:"14px",color:"currentColor"}),onClick:e},{label:"Logs",color:"#BDA0FF"}]})}function mt(e){const r=fe(u=>u.clusterId),t=async()=>(await R.get(`/clusters/${r}/upgrades/nodes/${e}/logs`)).data.logs??[],{refetch:o,data:a,isLoading:s}=de({queryKey:["getUpgradeLogs",r,e],queryFn:t,staleTime:0});return Ne("UPGRADE_PROGRESS_CHANGE",()=>o(),!0),{logs:a,isLoading:s,refetch:o}}function gt(){return i.jsx(m,{className:"flex flex-col w-full gap-2 ",children:new Array(15).fill(0).map(()=>i.jsx(Ge,{className:"rounded-lg",children:i.jsx(m,{height:"80px"})}))})}function ht({logs:e}){return e.length===0?i.jsx(pr,{title:"No logs available to display",subtitle:"There are no logs to show at the moment."}):i.jsx(m,{className:"flex w-full flex-col gap-2 overflow-scroll",children:e.map((r,t)=>i.jsxs(m,{className:"flex w-full flex-row items-start gap-[18px]",sx:{padding:"2px 10px",borderRadius:"4px"},children:[i.jsx($,{minWidth:"28px",textAlign:"right",fontFamily:"Roboto Mono",fontSize:"13px",children:t+1}),i.jsx($,{color:"#E5E0E0",fontFamily:"Roboto Mono",fontSize:"13px",children:r})]},t))})}function vt({onOpenChange:e,node:r}){const{logs:t,isLoading:o}=mt(r.id);return i.jsxs(He,{isOpen:!0,onOpenChange:e,children:[i.jsx(m,{minHeight:"58px"}),i.jsx(m,{className:"flex items-center gap-3 justify-between",children:i.jsx(pt,{onBack:e})}),i.jsx(m,{className:"flex p-px rounded-2xl h-[calc(var(--window-height)-120px)]",sx:{background:"radial-gradient(#6E687C, #1D1D1D)"},children:i.jsx(m,{className:"flex flex-col rounded-2xl bg-[#0D0D0D] w-full h-full items-start",children:i.jsxs(m,{className:"flex flex-col h-full w-full gap-3 overflow-auto items-center",padding:"16px 24px 16px 24px",children:[i.jsx(m,{className:"flex w-full flex-row items-start gap-[18px]",children:i.jsx($,{color:"#E5E0E0",fontFamily:"Manrope",fontSize:"14px",fontWeight:"600",lineHeight:"20px",children:r.node_name})}),o?i.jsx(gt,{}):i.jsx(ht,{logs:t})]})})})]})}function xt({label:e,items:r,buttonClassName:t,iconOnly:o}){const[a,s]=c.useState(null),u=!!a,p=g=>{s(g.currentTarget)},f=()=>{s(null)};return i.jsxs(m,{className:"mx-1",children:[i.jsx(m,{className:"!bg-[#212022] border-1 !border-[#615D6A] !rounded-lg",children:o?i.jsx(gr,{onClick:p,className:`!rounded-lg ${t??""}`,style:{width:"36px",height:"36px"},children:e}):i.jsx(nr,{onClick:p,className:`!normal-case !text-sm !px-4 !py-2!text-white  ${t??""}`,children:e})}),i.jsx(mr,{anchorEl:a,open:u,onClose:f,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},slotProps:{paper:{className:"mt-1",style:{width:"154px",background:"#212022",padding:"6px 8px",borderRadius:"6px"}},list:{className:"bg-[#212022]"}},children:r.map((g,j)=>i.jsx(hr,{onClick:()=>{var h;(h=g.onClick)==null||h.call(g),f()},disabled:g.disabled,className:"flex gap-1 items-center",sx:{color:"#898484",fontFamily:"Manrope",fontSize:"13px",fontStyle:"normal",fontWeight:500,lineHeight:"20px",padding:"6px 8px",borderRadius:"6px","&:hover":{background:"#242424",color:"#FFF"}},children:i.jsxs(m,{className:"flex items-center gap-[4px]",children:[g.icon,g.label]})},j))})]})}const bt=({clusterType:e})=>{const r=fe(O=>O.clusterId),t=async()=>{await R.post(`/clusters/${r}/upgrades?nodeType=${e}`),ee.success("Upgrade started")},o=async()=>{await R.put(`/clusters/${r}/upgrades/jobs/stop`),ee.success("Cluster upgrade stop request submitted successfully. The current node will continue upgrading before the stop takes effect.")},{data:a,isLoading:s,refetch:u,isPending:p}=de({queryKey:["get-upgrade-job-status"],queryFn:async()=>(await R.get(`/clusters/${r}/upgrades/jobs/status`)).data,staleTime:0});Ne("UPGRADE_PROGRESS_CHANGE",()=>u(),!0);const f=(a==null?void 0:a.status)==="UPGRADING",g=(a==null?void 0:a.status)==="FAILED",j=(a==null?void 0:a.status)==="STOPPED",h=(a==null?void 0:a.isStopping)&&!j,A=()=>j?i.jsx(q,{onClick:t,icon:Z,filledIcon:Z,disabled:p||s||f,padding:"8px 16px",fontSize:"13px",children:"Resume"}):f?i.jsx(q,{onClick:o,icon:te,filledIcon:te,disabled:h,padding:"8px 16px",fontSize:"13px",children:h?"Stopping":"Stop"}):i.jsx(q,{onClick:t,icon:Z,filledIcon:Z,disabled:p||s||f,padding:"8px 16px",fontSize:"13px",children:"Upgrade all"});return i.jsxs(m,{className:"flex flex-row items-center gap-2",children:[g&&i.jsxs($,{className:"inline-flex gap-[6px] items-center",color:"#E87D65",fontSize:"14px",fontWeight:"500",lineHeight:"normal",children:[i.jsx(m,{className:"size-[15px] inline",children:i.jsx(xe,{color:"currentColor",size:"15px"})}),"Failed to upgrade"]}),A()]})};function yt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Te(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,o)}return t}function Re(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Te(Object(t),!0).forEach(function(o){yt(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function kt(e,r){if(e==null)return{};var t={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function jt(e,r){if(e==null)return{};var t=kt(e,r),o,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function Et(e,r){return wt(e)||Mt(e,r)||Ct(e,r)||Lt()}function wt(e){if(Array.isArray(e))return e}function Mt(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],o=!0,a=!1,s=void 0;try{for(var u=e[Symbol.iterator](),p;!(o=(p=u.next()).done)&&(t.push(p.value),!(r&&t.length===r));o=!0);}catch(f){a=!0,s=f}finally{try{!o&&u.return!=null&&u.return()}finally{if(a)throw s}}return t}}function Ct(e,r){if(e){if(typeof e=="string")return ze(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ze(e,r)}}function ze(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function Lt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ie(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,o)}return t}function Ze(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ie(Object(t),!0).forEach(function(o){Ot(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function St(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(o){return r.reduceRight(function(a,s){return s(a)},o)}}function J(e){return function r(){for(var t=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.length>=e.length?e.apply(this,a):function(){for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];return r.apply(t,[].concat(a,p))}}}function ue(e){return{}.toString.call(e).includes("Object")}function Bt(e){return!Object.keys(e).length}function ne(e){return typeof e=="function"}function Nt(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Pt(e,r){return ue(r)||z("changeType"),Object.keys(r).some(function(t){return!Nt(e,t)})&&z("changeField"),r}function At(e){ne(e)||z("selectorType")}function Dt(e){ne(e)||ue(e)||z("handlerType"),ue(e)&&Object.values(e).some(function(r){return!ne(r)})&&z("handlersType")}function Ft(e){e||z("initialIsRequired"),ue(e)||z("initialType"),Bt(e)&&z("initialContent")}function $t(e,r){throw new Error(e[r]||e.default)}var Tt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},z=J($t)(Tt),le={changes:Pt,selector:At,handler:Dt,initial:Ft};function Rt(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};le.initial(e),le.handler(r);var t={current:e},o=J(Zt)(t,r),a=J(It)(t),s=J(le.changes)(e),u=J(zt)(t);function p(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(j){return j};return le.selector(g),g(t.current)}function f(g){St(o,a,s,u)(g)}return[p,f]}function zt(e,r){return ne(r)?r(e.current):r}function It(e,r){return e.current=Ze(Ze({},e.current),r),r}function Zt(e,r,t){return ne(r)?r(e.current):Object.keys(t).forEach(function(o){var a;return(a=r[o])===null||a===void 0?void 0:a.call(r,e.current[o])}),t}var Ut={create:Rt},Wt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Ht(e){return function r(){for(var t=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.length>=e.length?e.apply(this,a):function(){for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];return r.apply(t,[].concat(a,p))}}}function Vt(e){return{}.toString.call(e).includes("Object")}function qt(e){return e||Ue("configIsRequired"),Vt(e)||Ue("configType"),e.urls?(Gt(),{paths:{vs:e.urls.monacoBase}}):e}function Gt(){console.warn(_e.deprecation)}function _t(e,r){throw new Error(e[r]||e.default)}var _e={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ue=Ht(_t)(_e),Kt={config:qt},Yt=function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return function(a){return t.reduceRight(function(s,u){return u(s)},a)}};function Ke(e,r){return Object.keys(r).forEach(function(t){r[t]instanceof Object&&e[t]&&Object.assign(r[t],Ke(e[t],r[t]))}),Re(Re({},e),r)}var Xt={type:"cancelation",msg:"operation is manually canceled"};function ke(e){var r=!1,t=new Promise(function(o,a){e.then(function(s){return r?a(Xt):o(s)}),e.catch(a)});return t.cancel=function(){return r=!0},t}var Jt=Ut.create({config:Wt,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ye=Et(Jt,2),oe=Ye[0],ye=Ye[1];function Qt(e){var r=Kt.config(e),t=r.monaco,o=jt(r,["monaco"]);ye(function(a){return{config:Ke(a.config,o),monaco:t}})}function en(){var e=oe(function(r){var t=r.monaco,o=r.isInitialized,a=r.resolve;return{monaco:t,isInitialized:o,resolve:a}});if(!e.isInitialized){if(ye({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ke(je);if(window.monaco&&window.monaco.editor)return Xe(window.monaco),e.resolve(window.monaco),ke(je);Yt(rn,nn)(on)}return ke(je)}function rn(e){return document.body.appendChild(e)}function tn(e){var r=document.createElement("script");return e&&(r.src=e),r}function nn(e){var r=oe(function(o){var a=o.config,s=o.reject;return{config:a,reject:s}}),t=tn("".concat(r.config.paths.vs,"/loader.js"));return t.onload=function(){return e()},t.onerror=r.reject,t}function on(){var e=oe(function(t){var o=t.config,a=t.resolve,s=t.reject;return{config:o,resolve:a,reject:s}}),r=window.require;r.config(e.config),r(["vs/editor/editor.main"],function(t){Xe(t),e.resolve(t)},function(t){e.reject(t)})}function Xe(e){oe().monaco||ye({monaco:e})}function an(){return oe(function(e){var r=e.monaco;return r})}var je=new Promise(function(e,r){return ye({resolve:e,reject:r})}),Je={config:Qt,init:en,__getMonacoInstance:an},sn={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ee=sn,ln={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},cn=ln;function un({children:e}){return n.createElement("div",{style:cn.container},e)}var dn=un,fn=dn;function pn({width:e,height:r,isEditorReady:t,loading:o,_ref:a,className:s,wrapperProps:u}){return n.createElement("section",{style:{...Ee.wrapper,width:e,height:r},...u},!t&&n.createElement(fn,null,o),n.createElement("div",{ref:a,style:{...Ee.fullWidth,...!t&&Ee.hide},className:s}))}var mn=pn,Qe=c.memo(mn);function gn(e){c.useEffect(e,[])}var er=gn;function hn(e,r,t=!0){let o=c.useRef(!0);c.useEffect(o.current||!t?()=>{o.current=!1}:e,r)}var P=hn;function Q(){}function V(e,r,t,o){return vn(e,o)||xn(e,r,t,o)}function vn(e,r){return e.editor.getModel(rr(e,r))}function xn(e,r,t,o){return e.editor.createModel(r,t,o?rr(e,o):void 0)}function rr(e,r){return e.Uri.parse(r)}function bn({original:e,modified:r,language:t,originalLanguage:o,modifiedLanguage:a,originalModelPath:s,modifiedModelPath:u,keepCurrentOriginalModel:p=!1,keepCurrentModifiedModel:f=!1,theme:g="light",loading:j="Loading...",options:h={},height:A="100%",width:O="100%",className:D,wrapperProps:B={},beforeMount:G=Q,onMount:l=Q}){let[y,w]=c.useState(!1),[I,C]=c.useState(!0),L=c.useRef(null),M=c.useRef(null),_=c.useRef(null),S=c.useRef(l),x=c.useRef(G),U=c.useRef(!1);er(()=>{let d=Je.init();return d.then(b=>(M.current=b)&&C(!1)).catch(b=>(b==null?void 0:b.type)!=="cancelation"&&console.error("Monaco initialization: error:",b)),()=>L.current?K():d.cancel()}),P(()=>{if(L.current&&M.current){let d=L.current.getOriginalEditor(),b=V(M.current,e||"",o||t||"text",s||"");b!==d.getModel()&&d.setModel(b)}},[s],y),P(()=>{if(L.current&&M.current){let d=L.current.getModifiedEditor(),b=V(M.current,r||"",a||t||"text",u||"");b!==d.getModel()&&d.setModel(b)}},[u],y),P(()=>{let d=L.current.getModifiedEditor();d.getOption(M.current.editor.EditorOption.readOnly)?d.setValue(r||""):r!==d.getValue()&&(d.executeEdits("",[{range:d.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),d.pushUndoStop())},[r],y),P(()=>{var d,b;(b=(d=L.current)==null?void 0:d.getModel())==null||b.original.setValue(e||"")},[e],y),P(()=>{let{original:d,modified:b}=L.current.getModel();M.current.editor.setModelLanguage(d,o||t||"text"),M.current.editor.setModelLanguage(b,a||t||"text")},[t,o,a],y),P(()=>{var d;(d=M.current)==null||d.editor.setTheme(g)},[g],y),P(()=>{var d;(d=L.current)==null||d.updateOptions(h)},[h],y);let ae=c.useCallback(()=>{var T;if(!M.current)return;x.current(M.current);let d=V(M.current,e||"",o||t||"text",s||""),b=V(M.current,r||"",a||t||"text",u||"");(T=L.current)==null||T.setModel({original:d,modified:b})},[t,r,a,e,o,s,u]),ie=c.useCallback(()=>{var d;!U.current&&_.current&&(L.current=M.current.editor.createDiffEditor(_.current,{automaticLayout:!0,...h}),ae(),(d=M.current)==null||d.editor.setTheme(g),w(!0),U.current=!0)},[h,g,ae]);c.useEffect(()=>{y&&S.current(L.current,M.current)},[y]),c.useEffect(()=>{!I&&!y&&ie()},[I,y,ie]);function K(){var b,T,W,Y;let d=(b=L.current)==null?void 0:b.getModel();p||((T=d==null?void 0:d.original)==null||T.dispose()),f||((W=d==null?void 0:d.modified)==null||W.dispose()),(Y=L.current)==null||Y.dispose()}return n.createElement(Qe,{width:O,height:A,isEditorReady:y,loading:j,_ref:_,className:D,wrapperProps:B})}var yn=bn;c.memo(yn);function kn(e){let r=c.useRef();return c.useEffect(()=>{r.current=e},[e]),r.current}var jn=kn,ce=new Map;function En({defaultValue:e,defaultLanguage:r,defaultPath:t,value:o,language:a,path:s,theme:u="light",line:p,loading:f="Loading...",options:g={},overrideServices:j={},saveViewState:h=!0,keepCurrentModel:A=!1,width:O="100%",height:D="100%",className:B,wrapperProps:G={},beforeMount:l=Q,onMount:y=Q,onChange:w,onValidate:I=Q}){let[C,L]=c.useState(!1),[M,_]=c.useState(!0),S=c.useRef(null),x=c.useRef(null),U=c.useRef(null),ae=c.useRef(y),ie=c.useRef(l),K=c.useRef(),d=c.useRef(o),b=jn(s),T=c.useRef(!1),W=c.useRef(!1);er(()=>{let v=Je.init();return v.then(k=>(S.current=k)&&_(!1)).catch(k=>(k==null?void 0:k.type)!=="cancelation"&&console.error("Monaco initialization: error:",k)),()=>x.current?tr():v.cancel()}),P(()=>{var k,N,X,H;let v=V(S.current,e||o||"",r||a||"",s||t||"");v!==((k=x.current)==null?void 0:k.getModel())&&(h&&ce.set(b,(N=x.current)==null?void 0:N.saveViewState()),(X=x.current)==null||X.setModel(v),h&&((H=x.current)==null||H.restoreViewState(ce.get(s))))},[s],C),P(()=>{var v;(v=x.current)==null||v.updateOptions(g)},[g],C),P(()=>{!x.current||o===void 0||(x.current.getOption(S.current.editor.EditorOption.readOnly)?x.current.setValue(o):o!==x.current.getValue()&&(W.current=!0,x.current.executeEdits("",[{range:x.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),x.current.pushUndoStop(),W.current=!1))},[o],C),P(()=>{var k,N;let v=(k=x.current)==null?void 0:k.getModel();v&&a&&((N=S.current)==null||N.editor.setModelLanguage(v,a))},[a],C),P(()=>{var v;p!==void 0&&((v=x.current)==null||v.revealLine(p))},[p],C),P(()=>{var v;(v=S.current)==null||v.editor.setTheme(u)},[u],C);let Y=c.useCallback(()=>{var v;if(!(!U.current||!S.current)&&!T.current){ie.current(S.current);let k=s||t,N=V(S.current,o||e||"",r||a||"",k||"");x.current=(v=S.current)==null?void 0:v.editor.create(U.current,{model:N,automaticLayout:!0,...g},j),h&&x.current.restoreViewState(ce.get(k)),S.current.editor.setTheme(u),p!==void 0&&x.current.revealLine(p),L(!0),T.current=!0}},[e,r,t,o,a,s,g,j,h,u,p]);c.useEffect(()=>{C&&ae.current(x.current,S.current)},[C]),c.useEffect(()=>{!M&&!C&&Y()},[M,C,Y]),d.current=o,c.useEffect(()=>{var v,k;C&&w&&((v=K.current)==null||v.dispose(),K.current=(k=x.current)==null?void 0:k.onDidChangeModelContent(N=>{W.current||w(x.current.getValue(),N)}))},[C,w]),c.useEffect(()=>{if(C){let v=S.current.editor.onDidChangeMarkers(k=>{var X;let N=(X=x.current.getModel())==null?void 0:X.uri;if(N&&k.find(H=>H.path===N.path)){let H=S.current.editor.getModelMarkers({resource:N});I==null||I(H)}});return()=>{v==null||v.dispose()}}return()=>{}},[C,I]);function tr(){var v,k;(v=K.current)==null||v.dispose(),A?h&&ce.set(s,x.current.saveViewState()):(k=x.current.getModel())==null||k.dispose(),x.current.dispose()}return n.createElement(Qe,{width:O,height:D,isEditorReady:C,loading:f,_ref:U,className:B,wrapperProps:G})}var wn=En,Mn=c.memo(wn);function Cn(){return i.jsx(m,{className:"flex flex-col w-full gap-2 ",children:new Array(15).fill(0).map(()=>i.jsx(Ge,{className:"rounded-lg",children:i.jsx(m,{height:"80px"})}))})}const Ln=({value:e,onChange:r,onMount:t,language:o,readOnly:a=!1,isLoading:s=!1})=>{const u=c.useRef(null),p=(f,g)=>{u.current=f,g.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"7aa2f7",fontStyle:"italic"},{token:"string",foreground:"9ece6a"},{token:"number",foreground:"f7768e"},{token:"keyword",foreground:"bb9af7",fontStyle:"bold"}],colors:{"editor.background":"#0A0A0A","editor.lineHighlightBackground":"#0A0A0A","editorCursor.foreground":"#FFFFFF","editorLineNumber.foreground":"#FFFFFF","editor.selectionBackground":"#FFFFFF6B"}}),g.editor.setTheme("custom-dark"),t&&t(f,g)};return s?i.jsx(Cn,{}):i.jsx(Mn,{onMount:p,height:"auto",language:o,width:"100%",theme:"custom-dark",value:e,options:{fontSize:13,scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:a,contextmenu:!1},onChange:r})};function On({onBack:e}){return i.jsx(Ve,{items:[{label:"Go back",icon:i.jsx(qe,{size:"14px",color:"currentColor"}),onClick:e},{label:"Configuration",color:"#BDA0FF"}]})}function Sn(e){const r=fe(h=>h.clusterId),[t,o]=n.useState(),a=async()=>(await R.get(`/clusters/${r}/nodes/${e}/configuration`)).data.config??"",s=async h=>(await R.put(`/clusters/${r}/nodes/${e}/configuration`,{config:h})).data,{refetch:u,data:p,isLoading:f}=de({queryKey:["getNodeYamlConfig",r,e],queryFn:a,staleTime:0}),{mutate:g,isPending:j}=We({mutationKey:["updateNodeYamlConfig",r,e],mutationFn:s,onSuccess:h=>{ee.success(h.message),o(void 0),u()}});return{config:p,isLoading:f,refetch:u,isUpdating:j,onConfigChange:o,updateConfig:()=>t&&g(t),updatedConfig:t}}function Bn({onOpenChange:e,node:r}){const{config:t,isLoading:o,isUpdating:a,onConfigChange:s,updateConfig:u,updatedConfig:p}=Sn(r.id);return i.jsxs(He,{isOpen:!0,onOpenChange:e,children:[i.jsx(m,{minHeight:"58px"}),i.jsxs(m,{className:"flex items-center gap-3 justify-between",children:[i.jsx(On,{onBack:e}),i.jsx(q,{disabled:a||o||!p,onClick:()=>u(),children:a?"Updating":"Update"})]}),i.jsx(m,{className:"flex p-px rounded-2xl h-[calc(var(--window-height)-120px)]",sx:{background:"radial-gradient(#6E687C, #1D1D1D)"},children:i.jsx(m,{className:"flex flex-col rounded-2xl bg-[#0D0D0D] w-full h-full items-start",children:i.jsxs(m,{className:"flex flex-col h-full w-full gap-3 overflow-auto items-center",padding:"16px 24px 16px 24px",children:[i.jsx(m,{className:"flex w-full flex-row items-start gap-[18px]",children:i.jsx($,{color:"#E5E0E0",fontFamily:"Manrope",fontSize:"14px",fontWeight:"600",lineHeight:"20px",children:r.node_name})}),i.jsx(m,{className:"flex w-full h-full overflow-scroll rounded-lg",children:i.jsx(Ln,{language:"yaml",value:t,isLoading:o,onChange:s})})]})})})]})}const Nn={completed:i.jsxs($,{className:"inline-flex gap-[6px] items-center",color:"#52D97F",fontSize:"14px",fontWeight:"500",lineHeight:"normal",children:[i.jsx(m,{className:"size-[15px]",children:i.jsx(xr,{color:"currentColor",size:"15px"})}),"Upgrade complete"]})},Pn=[{key:"node_name",label:"Node name",align:"start",width:200},{key:"ip",label:"IP address",align:"start",width:120},{key:"role",label:"Role",align:"start",width:120},{key:"os",label:"OS",align:"start",width:120},{key:"version",label:"Version",align:"start",width:100},{key:"action",label:"Action",align:"end",width:140}];function ao({clusterType:e}){const r=fe(l=>l.clusterId),[t,o]=c.useState(),[a,s]=c.useState();Ne("UPGRADE_PROGRESS_CHANGE",()=>j(),!0);const u=async()=>{let l=[];return await R.get(`/clusters/${r}/nodes?type=${e}`).then(y=>{l=y.data.map(w=>({key:w.id,ip:w.ip,node_name:w.name,role:w.roles.join(","),os:w.os.name,version:w.version,status:w.status,progress:w.progress,isMaster:w.isMaster,disabled:!w.upgradable,id:w.id}))}),l},p=async l=>{console.log("triggered"),await R.post(`/clusters/${r}/upgrades/nodes/${l}`).then(()=>{j(),ee.success("Upgrade started")}).catch(()=>{ee.error("Failed to start upgrade")})},{data:f,isLoading:g,refetch:j,isRefetching:h}=de({queryKey:["nodes-info"],queryFn:u,staleTime:0}),{mutate:A,isPending:O}=We({mutationKey:["node-upgrade"],mutationFn:p}),D=l=>l.disabled&&l.status==="AVAILABLE"?i.jsxs(m,{className:"flex gap-1 items-center",color:"#EFC93D",fontSize:"12px",fontWeight:"500",lineHeight:"normal",children:[i.jsx(m,{className:"min-w-4 min-h-4",children:i.jsx(vr,{size:"16px",color:"currentColor",variant:"Bold"})}),"Upgrade other nodes first."]}):l.status==="AVAILABLE"?i.jsx(m,{className:"flex justify-end",children:i.jsx(q,{onClick:()=>{A(l.key)},icon:Z,filledIcon:Z,disabled:(l==null?void 0:l.disabled)||O,children:"Upgrade"})}):l.status==="UPGRADING"?i.jsx(ft,{progress:l.progress?l.progress:0}):l.status==="UPGRADED"?Nn.completed:i.jsx(m,{className:"flex justify-end",children:i.jsx(q,{onClick:()=>{A(l.key)},icon:we,filledIcon:we,disabled:(l==null?void 0:l.disabled)||O,children:"Retry"})}),B=l=>{const y=[{label:"Logs",onClick:()=>{o(l)},icon:i.jsx(Z,{size:"14px",color:"currentColor"})},{label:"Configuration",onClick:()=>{s(l)},icon:i.jsx(ve,{size:"14px",color:"currentColor"})}];return i.jsx(xt,{label:i.jsx(be,{size:"14px",color:"currentColor",style:{transform:"rotate(90deg)"}}),items:y,iconOnly:!0})},G=c.useCallback((l,y)=>{const w=l[y];switch(y){case"node_name":return l.node_name;case"ip":return i.jsx("span",{className:se({"text-[#ADADAD]":l.status!=="UPGRADED","text[#E75547]":l.status!=="FAILED"}),children:l.ip});case"role":return i.jsx("span",{className:se({"text-[#ADADAD]":l.status!=="UPGRADED","text[#E75547]":l.status!=="FAILED"}),children:l.role});case"os":return i.jsx("span",{className:se({"text-[#ADADAD]":l.status!=="UPGRADED","text[#E75547]":l.status!=="FAILED"}),children:l.os});case"version":return i.jsx("span",{className:se({"text-[#ADADAD]":l.status!=="UPGRADED","text[#E75547]":l.status!=="FAILED"}),children:l.version});case"action":return i.jsxs(m,{className:"flex justify-end",children:[D(l),B(l)]});default:return w}},[f,O,h]);return i.jsxs(m,{className:"flex w-full p-px rounded-2xl",sx:{background:"radial-gradient(#6E687C, #1D1D1D)"},children:[t&&i.jsx(vt,{node:t,onOpenChange:()=>o(void 0)}),a&&i.jsx(Bn,{node:a,onOpenChange:()=>s(void 0)}),i.jsxs(m,{className:"flex flex-col gap-4 w-full rounded-2xl bg-[#0d0d0d]",padding:"16px 24px",children:[i.jsxs(m,{className:"flex flex-row items-center gap-2 justify-between w-full",children:[i.jsx($,{color:"#FFF",fontSize:"14px",fontWeight:"600",lineHeight:"22px",children:"Node Details"}),i.jsx(bt,{clusterType:e})]}),i.jsx(m,{className:"flex",children:i.jsxs(br,{removeWrapper:!0,layout:"auto",isHeaderSticky:!0,classNames:{base:"max-h-[calc(var(--window-height)-212px)] h-[calc(var(--window-height)-212px)] overflow-scroll",th:"text-[#9D90BB] text-xs bg-[#161616] first:rounded-l-xl last:rounded-r-xl",td:"text-sm font-normal leading-normal border-b-[0.5px] border-solid border-[#1E1E1E]",tr:"[&>th]:h-[42px] [&>td]:h-[60px]"},children:[i.jsx(yr,{columns:Pn,children:l=>i.jsx(kr,{align:l.align,width:l.width,children:l.label},l.key)}),i.jsx(jr,{items:f||[],isLoading:g,loadingContent:i.jsx(Mr,{color:"secondary"}),emptyContent:"No nodes upgrades found.",children:l=>i.jsx(Er,{children:y=>i.jsx(wr,{children:G(l,y)})},l.key)})]})})]})]})}export{ao as U};
